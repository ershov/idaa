{
  "manifest_version": 3,
  "name": "Layout and Usability (Manifest V3)",
  "short_name": "Layout (Manifest V3)",
  "version": "3.0.0",
  "icons": {
    "128": "logo1-128.png",
    "64":  "logo1-64.png",
    "48":  "logo1-48.png",
    "16":  "logo1-16.png"
  },
  "description": "Improve layout and usability of certain web sites  (Manifest V3)",
  "options_ui": {
    "page": "options.html",
    "open_in_tab": false
  },
  "action": {
     "default_popup": "options.html",
     "default_title": "Layout Options"
  },
  "commands": {
    "switch-dark-mode-current": {
      "suggested_key": {
        "default": "Alt+A"
      },
      "description": "Switch Dark Mode for the current site"
    },
    "switch-dark-mode-global": {
      "description": "Switch Dark Mode for all sites"
    },
    "switch-ext-current": {
      "suggested_key": {
        "default": "Alt+L"
      },
      "description": "Enable/Disable the current site"
    },
    "switch-ext-global": {
      "description": "Enable/Disable all sites"
    }
  },
  "background": {
    "service_worker": "service_worker.js"
  },
  "permissions": [
    "activeTab",
    "tabs",
    "storage"
  ],
  "host_permissions": [
    "*://calendar.google.com/*",
    "*://mail.google.com/chat/*",
    "*://chat.google.com/*",
    "*://mail.google.com/sharing/*",
    "*://contacts.google.com/*",
    "https://github.com/*",
    "*://mail.google.com/mail/*",
    "*://groups.google.com/*",
    "*://instagram.com/*",
    "*://www.instagram.com/*",
    "*://jamboard.google.com/*",
    "*://keep.google.com/*",
    "*://app.slack.com/*",
    "*://web.telegram.org/*",
    "*://web.whatsapp.com/*"
  ],
  "optional_host_permissions": [
      "http://*/",
      "https://*/"
  ],
  "web_accessible_resources": [
  ],
  "content_scripts": [

    {
      "matches": ["*://calendar.google.com/*"],
      "run_at": "document_start",
      "js": ["calendar/gen.js", "calendar/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://mail.google.com/chat/*", "*://chat.google.com/*", "*://mail.google.com/sharing/*"],
      "run_at": "document_start",
      "all_frames": true,
      "js": ["chat/gen.js", "chat/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://contacts.google.com/*"],
      "run_at": "document_start",
      "all_frames": true,
      "js": ["contacts/gen.js", "contacts/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["https://github.com/*"],
      "run_at": "document_start",
      "js": ["github/gen.js", "github/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://mail.google.com/mail/*"],
      "run_at": "document_start",
      "js": ["gmail/gen.js", "gmail/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://groups.google.com/*"],
      "run_at": "document_start",
      "js": ["groups/gen.js", "groups/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://instagram.com/*", "*://www.instagram.com/*"],
      "run_at": "document_start",
      "js": ["instagram/gen.js", "instagram/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://jamboard.google.com/*"],
      "run_at": "document_start",
      "js": ["jamboard/gen.js", "jamboard/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://keep.google.com/*"],
      "run_at": "document_start",
      "js": ["keep/gen.js", "keep/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://app.slack.com/*"],
      "run_at": "document_start",
      "js": ["slack/gen.js", "slack/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://web.telegram.org/*"],
      "run_at": "document_start",
      "js": ["telegram/gen.js", "telegram/gen_content.js", "dark_mode.js", "content.js"]
    },
    {
      "matches": ["*://web.whatsapp.com/*"],
      "run_at": "document_start",
      "js": ["whatsapp/gen.js", "whatsapp/gen_content.js", "dark_mode.js", "content.js"]
    }

  ]
}

